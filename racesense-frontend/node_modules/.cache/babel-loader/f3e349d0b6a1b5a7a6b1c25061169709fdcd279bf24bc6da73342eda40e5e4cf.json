{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/racesense/racesense-frontend/src/pages/Championships.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Championships() {\n  _s();\n  const [championships, setChampionships] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [photoFile, setPhotoFile] = useState(null);\n  const [photoPreview, setPhotoPreview] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [creating, setCreating] = useState(false);\n  const [busyById, setBusyById] = useState({}); // { [champId]: boolean }\n  const [formulaInputs, setFormulaInputs] = useState({}); // { [champId]: \"label\" }\n\n  const API_BASE = process.env.REACT_APP_API_BASE || `http://${window.location.hostname}:5000`;\n\n  // === Load championships ===\n  useEffect(() => {\n    let alive = true;\n    fetch(`${API_BASE}/api/championships`).then(res => res.json()).then(data => {\n      if (!alive) return;\n      setChampionships(Array.isArray(data) ? data : []);\n    }).catch(() => {\n      if (!alive) return;\n      setChampionships([]);\n    });\n    return () => {\n      alive = false;\n    };\n  }, [API_BASE]);\n\n  // === Dropzone / file selection ===\n  const handleFile = file => {\n    if (!file) return;\n    setPhotoFile(file);\n    const reader = new FileReader();\n    reader.onloadend = () => setPhotoPreview(reader.result);\n    reader.readAsDataURL(file);\n  };\n  const handleDrop = e => {\n    var _e$dataTransfer$files;\n    e.preventDefault();\n    e.stopPropagation();\n    const file = (_e$dataTransfer$files = e.dataTransfer.files) === null || _e$dataTransfer$files === void 0 ? void 0 : _e$dataTransfer$files[0];\n    if (file) handleFile(file);\n  };\n\n  // === Create championship ===\n  const handleAddChampionship = async e => {\n    e.preventDefault();\n    setError(\"\");\n    if (!name.trim()) {\n      setError(\"Inserisci il nome del campionato\");\n      return;\n    }\n    try {\n      setCreating(true);\n      const formData = new FormData();\n      formData.append(\"name\", name.trim());\n      if (photoFile) formData.append(\"photo\", photoFile);\n      const res = await fetch(`${API_BASE}/api/championships`, {\n        method: \"POST\",\n        body: formData\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const data = await res.json();\n      setChampionships(Array.isArray(data) ? data : []);\n      setName(\"\");\n      setPhotoFile(null);\n      setPhotoPreview(null);\n    } catch (err) {\n      console.error(err);\n      setError(\"Errore durante il salvataggio del campionato.\");\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  // === Delete championship ===\n  const handleDeleteChampionship = async id => {\n    const ok = window.confirm(\"Eliminare definitivamente questo campionato?\");\n    if (!ok) return;\n    setBusyById(s => ({\n      ...s,\n      [id]: true\n    }));\n    try {\n      const res = await fetch(`${API_BASE}/api/championships/${id}`, {\n        method: \"DELETE\"\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const data = await res.json(); // backend ritorna l'elenco aggiornato\n      setChampionships(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error(err);\n      alert(\"Errore durante l'eliminazione del campionato.\");\n    } finally {\n      setBusyById(s => ({\n        ...s,\n        [id]: false\n      }));\n    }\n  };\n\n  // === Add formula to a championship ===\n  const handleAddFormula = async champId => {\n    const label = (formulaInputs[champId] || \"\").trim();\n    if (!label) return;\n    setBusyById(s => ({\n      ...s,\n      [champId]: true\n    }));\n    try {\n      const res = await fetch(`${API_BASE}/api/championships/${champId}/formulas`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          label\n        })\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const updatedChamp = await res.json(); // backend ritorna il campionato aggiornato\n      setChampionships(prev => prev.map(c => c.id === updatedChamp.id ? updatedChamp : c));\n      setFormulaInputs(s => ({\n        ...s,\n        [champId]: \"\"\n      }));\n    } catch (err) {\n      console.error(err);\n      alert(\"Errore durante l'aggiunta della formula.\");\n    } finally {\n      setBusyById(s => ({\n        ...s,\n        [champId]: false\n      }));\n    }\n  };\n\n  // === Delete a single formula ===\n  const handleDeleteFormula = async (champId, formulaId) => {\n    setBusyById(s => ({\n      ...s,\n      [champId]: true\n    }));\n    try {\n      const res = await fetch(`${API_BASE}/api/championships/${champId}/formulas/${formulaId}`, {\n        method: \"DELETE\"\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const updatedChamp = await res.json(); // backend ritorna il campionato aggiornato\n      setChampionships(prev => prev.map(c => c.id === updatedChamp.id ? updatedChamp : c));\n    } catch (err) {\n      console.error(err);\n      alert(\"Errore durante l'eliminazione della formula.\");\n    } finally {\n      setBusyById(s => ({\n        ...s,\n        [champId]: false\n      }));\n    }\n  };\n  const onChangeFormulaInput = (champId, value) => {\n    setFormulaInputs(s => ({\n      ...s,\n      [champId]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main small-top\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"section-title\",\n      children: \"Campionati\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"subtitle\",\n      children: \"Crea un nuovo campionato, assegna una foto e gestisci categorie (formule) direttamente dalle card.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"pilot-form\",\n      onSubmit: handleAddChampionship,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nome del Campionato *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"input\",\n            placeholder: \"Es. Formula GP Italia\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Foto Campionato (opzionale)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `dz ${photoPreview ? \"has-preview\" : \"\"}`,\n            onDragOver: e => e.preventDefault(),\n            onDrop: handleDrop,\n            onClick: () => document.getElementById(\"fileInputChampPhoto\").click(),\n            children: [!photoPreview ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dz-inner\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"dz-label\",\n                children: \"Trascina qui o clicca per caricare\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"dz-hint\",\n                children: \"Formato .jpg, .png, .webp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dz-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: photoPreview,\n                alt: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"dz-filename\",\n                children: photoFile === null || photoFile === void 0 ? void 0 : photoFile.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"fileInputChampPhoto\",\n              type: \"file\",\n              accept: \"image/*\",\n              style: {\n                display: \"none\"\n              },\n              onChange: e => {\n                var _e$target$files;\n                return handleFile((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-col\",\n          style: {\n            display: \"flex\",\n            alignItems: \"end\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-primary\",\n            disabled: creating,\n            children: creating ? \"Salvataggio...\" : \"Aggiungi Campionato\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"section-subtitle\",\n      children: \"Campionati salvati\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), championships.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cr-empty\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cr-empty-emoji\",\n        children: \"\\uD83C\\uDFC1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cr-empty-title\",\n        children: \"Nessun campionato creato\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"muted\",\n        children: \"Aggiungine uno sopra per iniziare.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cr-grid cr-grid--champ\",\n      children: championships.map(ch => {\n        const isBusy = !!busyById[ch.id];\n        const createdStr = ch.createdAt ? new Date(ch.createdAt).toLocaleDateString() : \"\";\n        const formulas = Array.isArray(ch.formulas) ? ch.formulas : [];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cr-card championship-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cr-hero\",\n            children: [ch.photo ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cr-photo\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `${API_BASE}${ch.photo}`,\n                alt: ch.name,\n                loading: \"lazy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cr-photo no-photo\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"muted\",\n                children: \"Nessuna immagine\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cr-hero-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cr-hero-titles\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"cr-title\",\n                  children: ch.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 23\n                }, this), createdStr && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted small\",\n                  children: createdStr\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cr-hero-actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-danger small\",\n                  disabled: isBusy,\n                  onClick: () => handleDeleteChampionship(ch.id),\n                  title: \"Elimina campionato\",\n                  children: isBusy ? \"...\" : \"Elimina\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"formula-title\",\n            children: \"Formule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formula-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formula-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formula-add\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    width: \"80%\"\n                  },\n                  className: \"input formula-input\",\n                  placeholder: \"Nuova formula (es. KZ2, MINI, AM)\",\n                  value: formulaInputs[ch.id] || \"\",\n                  onChange: e => onChangeFormulaInput(ch.id, e.target.value),\n                  onKeyDown: e => {\n                    if (e.key === \"Enter\") {\n                      e.preventDefault();\n                      handleAddFormula(ch.id);\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-primary small\",\n                  disabled: isBusy || !(formulaInputs[ch.id] || \"\").trim(),\n                  onClick: () => handleAddFormula(ch.id),\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 19\n            }, this), formulas.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formula-empty muted\",\n              children: \"Nessuna formula presente.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formula-list\",\n              children: formulas.map(f => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formula-chip\",\n                title: f.label,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"formula-dot\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"formula-text\",\n                  children: f.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-icon\",\n                  \"aria-label\": \"Elimina formula\",\n                  disabled: isBusy,\n                  onClick: () => handleDeleteFormula(ch.id, f.id),\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 27\n                }, this)]\n              }, f.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 17\n          }, this)]\n        }, ch.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n_s(Championships, \"/4NaXIGFxpo39/NiPdw/n29a58E=\");\n_c = Championships;\nvar _c;\n$RefreshReg$(_c, \"Championships\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Championships","_s","championships","setChampionships","name","setName","photoFile","setPhotoFile","photoPreview","setPhotoPreview","error","setError","creating","setCreating","busyById","setBusyById","formulaInputs","setFormulaInputs","API_BASE","process","env","REACT_APP_API_BASE","window","location","hostname","alive","fetch","then","res","json","data","Array","isArray","catch","handleFile","file","reader","FileReader","onloadend","result","readAsDataURL","handleDrop","e","_e$dataTransfer$files","preventDefault","stopPropagation","dataTransfer","files","handleAddChampionship","trim","formData","FormData","append","method","body","ok","Error","status","err","console","handleDeleteChampionship","id","confirm","s","alert","handleAddFormula","champId","label","headers","JSON","stringify","updatedChamp","prev","map","c","handleDeleteFormula","formulaId","onChangeFormulaInput","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","target","onDragOver","onDrop","onClick","document","getElementById","click","src","alt","accept","style","display","_e$target$files","alignItems","disabled","length","ch","isBusy","createdStr","createdAt","Date","toLocaleDateString","formulas","photo","loading","title","width","onKeyDown","key","f","_c","$RefreshReg$"],"sources":["/home/ubuntu/racesense/racesense-frontend/src/pages/Championships.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nexport default function Championships() {\n  const [championships, setChampionships] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [photoFile, setPhotoFile] = useState(null);\n  const [photoPreview, setPhotoPreview] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [creating, setCreating] = useState(false);\n  const [busyById, setBusyById] = useState({}); // { [champId]: boolean }\n  const [formulaInputs, setFormulaInputs] = useState({}); // { [champId]: \"label\" }\n\n  const API_BASE = process.env.REACT_APP_API_BASE || `http://${window.location.hostname}:5000`;\n\n  // === Load championships ===\n  useEffect(() => {\n    let alive = true;\n    fetch(`${API_BASE}/api/championships`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (!alive) return;\n        setChampionships(Array.isArray(data) ? data : []);\n      })\n      .catch(() => {\n        if (!alive) return;\n        setChampionships([]);\n      });\n    return () => { alive = false; };\n  }, [API_BASE]);\n\n  // === Dropzone / file selection ===\n  const handleFile = (file) => {\n    if (!file) return;\n    setPhotoFile(file);\n    const reader = new FileReader();\n    reader.onloadend = () => setPhotoPreview(reader.result);\n    reader.readAsDataURL(file);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const file = e.dataTransfer.files?.[0];\n    if (file) handleFile(file);\n  };\n\n  // === Create championship ===\n  const handleAddChampionship = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    if (!name.trim()) {\n      setError(\"Inserisci il nome del campionato\");\n      return;\n    }\n    try {\n      setCreating(true);\n      const formData = new FormData();\n      formData.append(\"name\", name.trim());\n      if (photoFile) formData.append(\"photo\", photoFile);\n\n      const res = await fetch(`${API_BASE}/api/championships`, {\n        method: \"POST\",\n        body: formData,\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const data = await res.json();\n      setChampionships(Array.isArray(data) ? data : []);\n      setName(\"\");\n      setPhotoFile(null);\n      setPhotoPreview(null);\n    } catch (err) {\n      console.error(err);\n      setError(\"Errore durante il salvataggio del campionato.\");\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  // === Delete championship ===\n  const handleDeleteChampionship = async (id) => {\n    const ok = window.confirm(\"Eliminare definitivamente questo campionato?\");\n    if (!ok) return;\n    setBusyById((s) => ({ ...s, [id]: true }));\n    try {\n      const res = await fetch(`${API_BASE}/api/championships/${id}`, {\n        method: \"DELETE\",\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const data = await res.json(); // backend ritorna l'elenco aggiornato\n      setChampionships(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error(err);\n      alert(\"Errore durante l'eliminazione del campionato.\");\n    } finally {\n      setBusyById((s) => ({ ...s, [id]: false }));\n    }\n  };\n\n  // === Add formula to a championship ===\n  const handleAddFormula = async (champId) => {\n    const label = (formulaInputs[champId] || \"\").trim();\n    if (!label) return;\n    setBusyById((s) => ({ ...s, [champId]: true }));\n    try {\n      const res = await fetch(`${API_BASE}/api/championships/${champId}/formulas`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ label }),\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const updatedChamp = await res.json(); // backend ritorna il campionato aggiornato\n      setChampionships((prev) =>\n        prev.map((c) => (c.id === updatedChamp.id ? updatedChamp : c))\n      );\n      setFormulaInputs((s) => ({ ...s, [champId]: \"\" }));\n    } catch (err) {\n      console.error(err);\n      alert(\"Errore durante l'aggiunta della formula.\");\n    } finally {\n      setBusyById((s) => ({ ...s, [champId]: false }));\n    }\n  };\n\n  // === Delete a single formula ===\n  const handleDeleteFormula = async (champId, formulaId) => {\n    setBusyById((s) => ({ ...s, [champId]: true }));\n    try {\n      const res = await fetch(`${API_BASE}/api/championships/${champId}/formulas/${formulaId}`, {\n        method: \"DELETE\",\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const updatedChamp = await res.json(); // backend ritorna il campionato aggiornato\n      setChampionships((prev) =>\n        prev.map((c) => (c.id === updatedChamp.id ? updatedChamp : c))\n      );\n    } catch (err) {\n      console.error(err);\n      alert(\"Errore durante l'eliminazione della formula.\");\n    } finally {\n      setBusyById((s) => ({ ...s, [champId]: false }));\n    }\n  };\n\n  const onChangeFormulaInput = (champId, value) => {\n    setFormulaInputs((s) => ({ ...s, [champId]: value }));\n  };\n\n  return (\n    <div className=\"main small-top\">\n      <h1 className=\"section-title\">Campionati</h1>\n      <p className=\"subtitle\">\n        Crea un nuovo campionato, assegna una foto e gestisci categorie (formule) direttamente dalle card.\n      </p>\n\n      {/* === CREATE FORM === */}\n      <form className=\"pilot-form\" onSubmit={handleAddChampionship}>\n        <div className=\"form-row\">\n          <div className=\"form-col\">\n            <label>Nome del Campionato *</label>\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"Es. Formula GP Italia\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n          </div>\n\n          <div className=\"form-col\">\n            <label>Foto Campionato (opzionale)</label>\n            <div\n              className={`dz ${photoPreview ? \"has-preview\" : \"\"}`}\n              onDragOver={(e) => e.preventDefault()}\n              onDrop={handleDrop}\n              onClick={() => document.getElementById(\"fileInputChampPhoto\").click()}\n            >\n              {!photoPreview ? (\n                <div className=\"dz-inner\">\n                  <span className=\"dz-label\">Trascina qui o clicca per caricare</span>\n                  <span className=\"dz-hint\">Formato .jpg, .png, .webp</span>\n                </div>\n              ) : (\n                <div className=\"dz-preview\">\n                  <img src={photoPreview} alt=\"Preview\" />\n                  <span className=\"dz-filename\">{photoFile?.name}</span>\n                </div>\n              )}\n              <input\n                id=\"fileInputChampPhoto\"\n                type=\"file\"\n                accept=\"image/*\"\n                style={{ display: \"none\" }}\n                onChange={(e) => handleFile(e.target.files?.[0])}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-col\" style={{ display: \"flex\", alignItems: \"end\" }}>\n            <button type=\"submit\" className=\"btn-primary\" disabled={creating}>\n              {creating ? \"Salvataggio...\" : \"Aggiungi Campionato\"}\n            </button>\n          </div>\n        </div>\n\n        {error && <div className=\"error\">{error}</div>}\n      </form>\n\n      {/* === LIST === */}\n      <h2 className=\"section-subtitle\">Campionati salvati</h2>\n\n      {championships.length === 0 ? (\n        <div className=\"cr-empty\">\n          <div className=\"cr-empty-emoji\">üèÅ</div>\n          <div className=\"cr-empty-title\">Nessun campionato creato</div>\n          <p className=\"muted\">Aggiungine uno sopra per iniziare.</p>\n        </div>\n      ) : (\n        <div className=\"cr-grid cr-grid--champ\">\n          {championships.map((ch) => {\n            const isBusy = !!busyById[ch.id];\n            const createdStr = ch.createdAt\n              ? new Date(ch.createdAt).toLocaleDateString()\n              : \"\";\n            const formulas = Array.isArray(ch.formulas) ? ch.formulas : [];\n\n            return (\n              <div key={ch.id} className=\"cr-card championship-card\">\n                {/* Hero area con immagine intera (contain) */}\n                <div className=\"cr-hero\">\n                  {ch.photo ? (\n                    <div className=\"cr-photo\">\n                      <img\n                        src={`${API_BASE}${ch.photo}`}\n                        alt={ch.name}\n                        loading=\"lazy\"\n                      />\n                    </div>\n                  ) : (\n                    <div className=\"cr-photo no-photo\">\n                      <span className=\"muted\">Nessuna immagine</span>\n                    </div>\n                  )}\n\n                  <div className=\"cr-hero-info\">\n                    <div className=\"cr-hero-titles\">\n                      <h3 className=\"cr-title\">{ch.name}</h3>\n                      {createdStr && (\n                        <span className=\"muted small\">{createdStr}</span>\n                      )}\n                    </div>\n\n                    <div className=\"cr-hero-actions\">\n                      {/* <button\n                        className=\"btn-ghost small\"\n                        disabled={isBusy}\n                        onClick={() => {\n                          navigator.clipboard.writeText(ch.id).catch(() => { });\n                        }}\n                        title=\"Copia ID campionato\"\n                      >\n                        ID\n                      </button> */}\n                      <button\n                        className=\"btn-danger small\"\n                        disabled={isBusy}\n                        onClick={() => handleDeleteChampionship(ch.id)}\n                        title=\"Elimina campionato\"\n                      >\n                        {isBusy ? \"...\" : \"Elimina\"}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Formule (categorie) */}\n                <span className=\"formula-title\">Formule</span>\n                <div className=\"formula-block\">\n                  <div className=\"formula-head\">\n                    <div className=\"formula-add\">\n                      <input\n                        style={{ width: \"80%\" }}\n                        className=\"input formula-input\"\n                        placeholder=\"Nuova formula (es. KZ2, MINI, AM)\"\n                        value={formulaInputs[ch.id] || \"\"}\n                        onChange={(e) => onChangeFormulaInput(ch.id, e.target.value)}\n                        onKeyDown={(e) => {\n                          if (e.key === \"Enter\") {\n                            e.preventDefault();\n                            handleAddFormula(ch.id);\n                          }\n                        }}\n                      />\n                      <button\n                        className=\"btn-primary small\"\n                        disabled={isBusy || !(formulaInputs[ch.id] || \"\").trim()}\n                        onClick={() => handleAddFormula(ch.id)}\n                      >\n                        +\n                      </button>\n                    </div>\n                  </div>\n\n                  {formulas.length === 0 ? (\n                    <div className=\"formula-empty muted\">Nessuna formula presente.</div>\n                  ) : (\n                    <div className=\"formula-list\">\n                      {formulas.map((f) => (\n                        <div key={f.id} className=\"formula-chip\" title={f.label}>\n                          <span className=\"formula-dot\" />\n                          <span className=\"formula-text\">{f.label}</span>\n                          <button\n                            className=\"btn-icon\"\n                            aria-label=\"Elimina formula\"\n                            disabled={isBusy}\n                            onClick={() => handleDeleteFormula(ch.id, f.id)}\n                          >\n                            √ó\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}