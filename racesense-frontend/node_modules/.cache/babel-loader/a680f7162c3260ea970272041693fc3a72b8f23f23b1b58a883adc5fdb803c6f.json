{"ast":null,"code":"// src/utils/colors.js\n// Generatore deterministico di colori a partire da una stringa (es. \"Mario Rossi\").\n// Usa un PRNG seedato dall'hash del nome e restituisce un HEX pieno e leggibile.\n\n// Hash veloce deterministico (xfnv1a)\nfunction hashString(str) {\n  let h = 2166136261 >>> 0;\n  for (let i = 0; i < str.length; i++) {\n    h ^= str.charCodeAt(i);\n    h = Math.imul(h, 16777619);\n  }\n  return h >>> 0;\n}\n\n// PRNG semplice (mulberry32) da seed intero\nfunction mulberry32(seed) {\n  return function () {\n    let t = (seed += 0x6D2B79F5) >>> 0;\n    t = Math.imul(t ^ t >>> 15, t | 1);\n    t ^= t + Math.imul(t ^ t >>> 7, t | 61);\n    return ((t ^ t >>> 14) >>> 0) / 4294967296;\n  };\n}\n\n// HSL -> HEX\nfunction hslToHex(h, s, l) {\n  s /= 100;\n  l /= 100;\n  const k = n => (n + h / 30) % 12;\n  const a = s * Math.min(l, 1 - l);\n  const f = n => l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)));\n  const toHex = x => Math.round(x * 255).toString(16).padStart(2, '0');\n  return `#${toHex(f(0))}${toHex(f(8))}${toHex(f(4))}`;\n}\n\n/**\n * Restituisce un colore HEX deterministico e “randomico”\n * basato su nome+cognome (case/whitespace-insensitive).\n *\n * Strategia:\n * - Hue da 0..360 “random” seedato.\n * - Saturation/Lightness fissate per buona leggibilità su sfondo scuro.\n * - Leggera variazione di L per distribuire meglio i toni simili.\n */\nexport function colorFromName(fullNameOrKey) {\n  const key = String(fullNameOrKey || '').trim().toLowerCase().replace(/\\s+/g, ' ');\n  if (!key) return '#C0FF03'; // fallback\n\n  const seed = hashString(key);\n  const rand = mulberry32(seed);\n\n  // Hue “random” su tutto il cerchio\n  const hue = Math.floor(rand() * 360);\n\n  // Saturazione alta per colori vividi, Lightness medio-alta per contrasto su asfalto grigio\n  const sat = 72;\n\n  // Lightness con piccola variazione deterministica per differenziare nomi simili\n  const baseLight = 52;\n  const jitter = Math.floor(rand() * 14) - 7; // [-7, +6]\n  const light = Math.max(40, Math.min(62, baseLight + jitter));\n  return hslToHex(hue, sat, light);\n}","map":{"version":3,"names":["hashString","str","h","i","length","charCodeAt","Math","imul","mulberry32","seed","t","hslToHex","s","l","k","n","a","min","f","max","toHex","x","round","toString","padStart","colorFromName","fullNameOrKey","key","String","trim","toLowerCase","replace","rand","hue","floor","sat","baseLight","jitter","light"],"sources":["/home/ubuntu/racesense/racesense-frontend/src/utils/colors.js"],"sourcesContent":["// src/utils/colors.js\n// Generatore deterministico di colori a partire da una stringa (es. \"Mario Rossi\").\n// Usa un PRNG seedato dall'hash del nome e restituisce un HEX pieno e leggibile.\n\n// Hash veloce deterministico (xfnv1a)\nfunction hashString(str) {\n    let h = 2166136261 >>> 0;\n    for (let i = 0; i < str.length; i++) {\n        h ^= str.charCodeAt(i);\n        h = Math.imul(h, 16777619);\n    }\n    return h >>> 0;\n}\n\n// PRNG semplice (mulberry32) da seed intero\nfunction mulberry32(seed) {\n    return function () {\n        let t = (seed += 0x6D2B79F5) >>> 0;\n        t = Math.imul(t ^ (t >>> 15), t | 1);\n        t ^= t + Math.imul(t ^ (t >>> 7), t | 61);\n        return ((t ^ (t >>> 14)) >>> 0) / 4294967296;\n    };\n}\n\n// HSL -> HEX\nfunction hslToHex(h, s, l) {\n    s /= 100;\n    l /= 100;\n    const k = n => (n + h / 30) % 12;\n    const a = s * Math.min(l, 1 - l);\n    const f = n => l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)));\n    const toHex = x => Math.round(x * 255).toString(16).padStart(2, '0');\n    return `#${toHex(f(0))}${toHex(f(8))}${toHex(f(4))}`;\n}\n\n/**\n * Restituisce un colore HEX deterministico e “randomico”\n * basato su nome+cognome (case/whitespace-insensitive).\n *\n * Strategia:\n * - Hue da 0..360 “random” seedato.\n * - Saturation/Lightness fissate per buona leggibilità su sfondo scuro.\n * - Leggera variazione di L per distribuire meglio i toni simili.\n */\nexport function colorFromName(fullNameOrKey) {\n    const key = String(fullNameOrKey || '').trim().toLowerCase().replace(/\\s+/g, ' ');\n    if (!key) return '#C0FF03'; // fallback\n\n    const seed = hashString(key);\n    const rand = mulberry32(seed);\n\n    // Hue “random” su tutto il cerchio\n    const hue = Math.floor(rand() * 360);\n\n    // Saturazione alta per colori vividi, Lightness medio-alta per contrasto su asfalto grigio\n    const sat = 72;\n\n    // Lightness con piccola variazione deterministica per differenziare nomi simili\n    const baseLight = 52;\n    const jitter = Math.floor(rand() * 14) - 7; // [-7, +6]\n    const light = Math.max(40, Math.min(62, baseLight + jitter));\n\n    return hslToHex(hue, sat, light);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}