{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/racesense/racesense-frontend/src/pages/Circuits.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React from \"react\";\n\n/* ============ ICONS (inline SVG) ============ */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Svg = ({\n  children,\n  size = 16,\n  ...rest\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: size,\n  height: size,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  ...rest,\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 5\n}, this);\n_c = Svg;\nconst IconFlag = () => /*#__PURE__*/_jsxDEV(Svg, {\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 3v18\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 4s3-1 6 1 6 0 6 0v9s-3 1-6-1-6 0-6 0V4z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 5\n}, this);\n_c2 = IconFlag;\nconst IconPlus = () => /*#__PURE__*/_jsxDEV(Svg, {\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 5v14M5 12h14\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 27,\n  columnNumber: 5\n}, this);\n\n/* ===== Helpers ===== */\n_c3 = IconPlus;\nfunction projectLatLonToXY(points) {\n  if (!(points !== null && points !== void 0 && points.length)) return [];\n  const lat0 = points.reduce((s, p) => s + p.lat, 0) / points.length;\n  const lon0 = points.reduce((s, p) => s + p.lon, 0) / points.length;\n  const mPerDegLat = 111132;\n  const mPerDegLon = 111320 * Math.cos(lat0 * Math.PI / 180);\n  return points.map(p => ({\n    x: (p.lon - lon0) * mPerDegLon,\n    y: (p.lat - lat0) * mPerDegLat * -1\n  }));\n}\nfunction fitToCanvas(localXY, width, height, padding = 20) {\n  if (!localXY.length) return [];\n  const xs = localXY.map(p => p.x),\n    ys = localXY.map(p => p.y);\n  const minX = Math.min(...xs),\n    maxX = Math.max(...xs);\n  const minY = Math.min(...ys),\n    maxY = Math.max(...ys);\n  const spanX = maxX - minX || 1,\n    spanY = maxY - minY || 1;\n  const scale = Math.min((width - 2 * padding) / spanX, (height - 2 * padding) / spanY);\n  const offX = padding - minX * scale + (width - 2 * padding - spanX * scale) / 2;\n  const offY = padding - minY * scale + (height - 2 * padding - spanY * scale) / 2;\n  return localXY.map(p => ({\n    X: p.x * scale + offX,\n    Y: p.y * scale + offY\n  }));\n}\n\n/* ===== Canvas ===== */\nfunction EditableTrackCanvas({\n  points,\n  sectors,\n  setSectors,\n  curbs,\n  setCurbs\n}) {\n  _s();\n  const ref = React.useRef(null);\n  const [dragStart, setDragStart] = React.useState(null);\n  React.useEffect(() => {\n    const canvas = ref.current;\n    if (!canvas || !(points !== null && points !== void 0 && points.length)) return;\n    const ctx = canvas.getContext(\"2d\");\n    const W = canvas.width,\n      H = canvas.height;\n    ctx.clearRect(0, 0, W, H);\n    const local = projectLatLonToXY(points);\n    const fitted = fitToCanvas(local, W, H, 20);\n\n    // Asfalto\n    ctx.beginPath();\n    fitted.forEach((p, i) => i ? ctx.lineTo(p.X, p.Y) : ctx.moveTo(p.X, p.Y));\n    ctx.strokeStyle = \"rgba(80,84,90,0.9)\";\n    ctx.lineWidth = 10;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.stroke();\n\n    // Cordoli\n    curbs.forEach(c => {\n      ctx.beginPath();\n      const seg = fitted.slice(c.start, c.end);\n      seg.forEach((p, i) => i ? ctx.lineTo(p.X, p.Y) : ctx.moveTo(p.X, p.Y));\n      ctx.strokeStyle = c.color || \"red\";\n      ctx.lineWidth = 6;\n      ctx.stroke();\n    });\n\n    // Settori\n    sectors.forEach(s => {\n      const start = fitted[s.start] || fitted[0];\n      const end = fitted[s.end] || fitted[fitted.length - 1];\n      ctx.beginPath();\n      ctx.moveTo(start.X, start.Y);\n      ctx.lineTo(end.X, end.Y);\n      ctx.strokeStyle = s.color || \"yellow\";\n      ctx.lineWidth = 3;\n      ctx.setLineDash([6, 4]);\n      ctx.stroke();\n      ctx.setLineDash([]);\n    });\n  }, [points, sectors, curbs]);\n  const handleMouseDown = e => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setDragStart({\n      x,\n      y\n    });\n  };\n  const handleMouseUp = e => {\n    if (!dragStart) return;\n    const rect = e.target.getBoundingClientRect();\n    const x2 = e.clientX - rect.left;\n    const y2 = e.clientY - rect.top;\n    // crea curb dummy\n    setCurbs(prev => [...prev, {\n      start: Math.floor(Math.random() * 100),\n      end: Math.floor(Math.random() * 100) + 20,\n      color: \"red\"\n    }]);\n    setDragStart(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: ref,\n    width: 760,\n    height: 420,\n    className: \"cr-canvas editable\",\n    onMouseDown: handleMouseDown,\n    onMouseUp: handleMouseUp\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 9\n  }, this);\n}\n\n/* ===== Modal ===== */\n_s(EditableTrackCanvas, \"LhVfyCOIbGShBY6TwseCJlriO6c=\");\n_c4 = EditableTrackCanvas;\nfunction Modal({\n  open,\n  onClose,\n  children\n}) {\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cr-modal\",\n    role: \"dialog\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cr-backdrop\",\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cr-dialog\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"cr-close\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 9\n  }, this);\n}\n\n/* ===== MAIN PAGE ===== */\n_c5 = Modal;\nexport default function CircuitsPage({\n  apiBase\n}) {\n  _s2();\n  const [list, setList] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n  const [openId, setOpenId] = React.useState(null);\n  const [detail, setDetail] = React.useState(null);\n  const [sectors, setSectors] = React.useState([]);\n  const [curbs, setCurbs] = React.useState([]);\n  React.useEffect(() => {\n    setLoading(true);\n    fetch(`${apiBase}/api/circuits`).then(r => r.ok ? r.json() : Promise.reject()).then(j => setList(j)).catch(() => setError(\"Errore caricamento\")).finally(() => setLoading(false));\n  }, [apiBase]);\n  const openDetail = id => {\n    setOpenId(id);\n    fetch(`${apiBase}/api/circuits/${encodeURIComponent(id)}`).then(r => r.json()).then(j => {\n      setDetail(j);\n      setSectors([]);\n      setCurbs([]);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"circuits-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main small-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title\",\n        children: \"Circuiti\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"muted\",\n        children: \"Caricamento\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 29\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 27\n      }, this), !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cr-grid\",\n        children: list.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cr-card\",\n          onClick: () => openDetail(c.id),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"cr-title\",\n            children: c.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\",\n            children: new Date(c.createdAt).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 33\n          }, this)]\n        }, c.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!openId,\n      onClose: () => setOpenId(null),\n      children: detail && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cr-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"cr-dialog-title\",\n          children: detail.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(EditableTrackCanvas, {\n          points: detail.pathPoints,\n          sectors: sectors,\n          setSectors: setSectors,\n          curbs: curbs,\n          setCurbs: setCurbs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cr-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Settori\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 29\n          }, this), sectors.map((s, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sector-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Settore \", i + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"color\",\n              value: s.color,\n              onChange: e => setSectors(prev => prev.map((x, j) => j === i ? {\n                ...x,\n                color: e.target.value\n              } : x))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 37\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 33\n          }, this)), sectors.length < 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-small\",\n            onClick: () => setSectors(p => [...p, {\n              start: Math.floor(Math.random() * 50),\n              end: Math.floor(Math.random() * 150),\n              color: \"#ffff00\"\n            }]),\n            children: [/*#__PURE__*/_jsxDEV(IconPlus, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 37\n            }, this), \" Aggiungi Settore\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cr-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Cordoli\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"muted small\",\n            children: \"Clicca e trascina sul tracciato per creare un cordolo.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 29\n          }, this), curbs.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"curb-list\",\n            children: curbs.map((c, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Cordolo \", i + 1, \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"color\",\n                value: c.color,\n                onChange: e => setCurbs(prev => prev.map((x, j) => j === i ? {\n                  ...x,\n                  color: e.target.value\n                } : x))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 45\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 9\n  }, this);\n}\n_s2(CircuitsPage, \"s4T4HISKUdi2Evf+xSNoCmHDO8k=\");\n_c6 = CircuitsPage;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Svg\");\n$RefreshReg$(_c2, \"IconFlag\");\n$RefreshReg$(_c3, \"IconPlus\");\n$RefreshReg$(_c4, \"EditableTrackCanvas\");\n$RefreshReg$(_c5, \"Modal\");\n$RefreshReg$(_c6, \"CircuitsPage\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Svg","children","size","rest","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","fileName","_jsxFileName","lineNumber","columnNumber","_c","IconFlag","d","_c2","IconPlus","_c3","projectLatLonToXY","points","length","lat0","reduce","s","p","lat","lon0","lon","mPerDegLat","mPerDegLon","Math","cos","PI","map","x","y","fitToCanvas","localXY","padding","xs","ys","minX","min","maxX","max","minY","maxY","spanX","spanY","scale","offX","offY","X","Y","EditableTrackCanvas","sectors","setSectors","curbs","setCurbs","_s","ref","useRef","dragStart","setDragStart","useState","useEffect","canvas","current","ctx","getContext","W","H","clearRect","local","fitted","beginPath","forEach","i","lineTo","moveTo","strokeStyle","lineWidth","lineCap","lineJoin","c","seg","slice","start","end","color","setLineDash","handleMouseDown","e","rect","target","getBoundingClientRect","clientX","left","clientY","top","handleMouseUp","x2","y2","prev","floor","random","className","onMouseDown","onMouseUp","_c4","Modal","open","onClose","role","onClick","_c5","CircuitsPage","apiBase","_s2","list","setList","loading","setLoading","error","setError","openId","setOpenId","detail","setDetail","fetch","then","r","ok","json","Promise","reject","j","catch","finally","openDetail","id","encodeURIComponent","name","Date","createdAt","toLocaleDateString","pathPoints","type","value","onChange","_c6","$RefreshReg$"],"sources":["/home/ubuntu/racesense/racesense-frontend/src/pages/Circuits.jsx"],"sourcesContent":["import React from \"react\";\n\n/* ============ ICONS (inline SVG) ============ */\nconst Svg = ({ children, size = 16, ...rest }) => (\n    <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={size}\n        height={size}\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth={2}\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        {...rest}\n    >\n        {children}\n    </svg>\n);\nconst IconFlag = () => (\n    <Svg>\n        <path d=\"M4 3v18\" />\n        <path d=\"M4 4s3-1 6 1 6 0 6 0v9s-3 1-6-1-6 0-6 0V4z\" />\n    </Svg>\n);\nconst IconPlus = () => (\n    <Svg>\n        <path d=\"M12 5v14M5 12h14\" />\n    </Svg>\n);\n\n/* ===== Helpers ===== */\nfunction projectLatLonToXY(points) {\n    if (!points?.length) return [];\n    const lat0 = points.reduce((s, p) => s + p.lat, 0) / points.length;\n    const lon0 = points.reduce((s, p) => s + p.lon, 0) / points.length;\n    const mPerDegLat = 111132;\n    const mPerDegLon = 111320 * Math.cos((lat0 * Math.PI) / 180);\n    return points.map((p) => ({\n        x: (p.lon - lon0) * mPerDegLon,\n        y: (p.lat - lat0) * mPerDegLat * -1,\n    }));\n}\nfunction fitToCanvas(localXY, width, height, padding = 20) {\n    if (!localXY.length) return [];\n    const xs = localXY.map((p) => p.x),\n        ys = localXY.map((p) => p.y);\n    const minX = Math.min(...xs),\n        maxX = Math.max(...xs);\n    const minY = Math.min(...ys),\n        maxY = Math.max(...ys);\n    const spanX = maxX - minX || 1,\n        spanY = maxY - minY || 1;\n    const scale = Math.min(\n        (width - 2 * padding) / spanX,\n        (height - 2 * padding) / spanY\n    );\n    const offX =\n        padding - minX * scale + (width - 2 * padding - spanX * scale) / 2;\n    const offY =\n        padding - minY * scale + (height - 2 * padding - spanY * scale) / 2;\n    return localXY.map((p) => ({\n        X: p.x * scale + offX,\n        Y: p.y * scale + offY,\n    }));\n}\n\n/* ===== Canvas ===== */\nfunction EditableTrackCanvas({\n    points,\n    sectors,\n    setSectors,\n    curbs,\n    setCurbs,\n}) {\n    const ref = React.useRef(null);\n    const [dragStart, setDragStart] = React.useState(null);\n\n    React.useEffect(() => {\n        const canvas = ref.current;\n        if (!canvas || !points?.length) return;\n        const ctx = canvas.getContext(\"2d\");\n        const W = canvas.width,\n            H = canvas.height;\n        ctx.clearRect(0, 0, W, H);\n\n        const local = projectLatLonToXY(points);\n        const fitted = fitToCanvas(local, W, H, 20);\n\n        // Asfalto\n        ctx.beginPath();\n        fitted.forEach((p, i) =>\n            i ? ctx.lineTo(p.X, p.Y) : ctx.moveTo(p.X, p.Y)\n        );\n        ctx.strokeStyle = \"rgba(80,84,90,0.9)\";\n        ctx.lineWidth = 10;\n        ctx.lineCap = \"round\";\n        ctx.lineJoin = \"round\";\n        ctx.stroke();\n\n        // Cordoli\n        curbs.forEach((c) => {\n            ctx.beginPath();\n            const seg = fitted.slice(c.start, c.end);\n            seg.forEach((p, i) =>\n                i ? ctx.lineTo(p.X, p.Y) : ctx.moveTo(p.X, p.Y)\n            );\n            ctx.strokeStyle = c.color || \"red\";\n            ctx.lineWidth = 6;\n            ctx.stroke();\n        });\n\n        // Settori\n        sectors.forEach((s) => {\n            const start = fitted[s.start] || fitted[0];\n            const end = fitted[s.end] || fitted[fitted.length - 1];\n            ctx.beginPath();\n            ctx.moveTo(start.X, start.Y);\n            ctx.lineTo(end.X, end.Y);\n            ctx.strokeStyle = s.color || \"yellow\";\n            ctx.lineWidth = 3;\n            ctx.setLineDash([6, 4]);\n            ctx.stroke();\n            ctx.setLineDash([]);\n        });\n    }, [points, sectors, curbs]);\n\n    const handleMouseDown = (e) => {\n        const rect = e.target.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        setDragStart({ x, y });\n    };\n    const handleMouseUp = (e) => {\n        if (!dragStart) return;\n        const rect = e.target.getBoundingClientRect();\n        const x2 = e.clientX - rect.left;\n        const y2 = e.clientY - rect.top;\n        // crea curb dummy\n        setCurbs((prev) => [\n            ...prev,\n            {\n                start: Math.floor(Math.random() * 100),\n                end: Math.floor(Math.random() * 100) + 20,\n                color: \"red\",\n            },\n        ]);\n        setDragStart(null);\n    };\n\n    return (\n        <canvas\n            ref={ref}\n            width={760}\n            height={420}\n            className=\"cr-canvas editable\"\n            onMouseDown={handleMouseDown}\n            onMouseUp={handleMouseUp}\n        />\n    );\n}\n\n/* ===== Modal ===== */\nfunction Modal({ open, onClose, children }) {\n    if (!open) return null;\n    return (\n        <div className=\"cr-modal\" role=\"dialog\">\n            <div className=\"cr-backdrop\" onClick={onClose} />\n            <div className=\"cr-dialog\">\n                <button className=\"cr-close\" onClick={onClose}>\n                    ×\n                </button>\n                {children}\n            </div>\n        </div>\n    );\n}\n\n/* ===== MAIN PAGE ===== */\nexport default function CircuitsPage({ apiBase }) {\n    const [list, setList] = React.useState([]);\n    const [loading, setLoading] = React.useState(true);\n    const [error, setError] = React.useState(\"\");\n    const [openId, setOpenId] = React.useState(null);\n    const [detail, setDetail] = React.useState(null);\n\n    const [sectors, setSectors] = React.useState([]);\n    const [curbs, setCurbs] = React.useState([]);\n\n    React.useEffect(() => {\n        setLoading(true);\n        fetch(`${apiBase}/api/circuits`)\n            .then((r) => (r.ok ? r.json() : Promise.reject()))\n            .then((j) => setList(j))\n            .catch(() => setError(\"Errore caricamento\"))\n            .finally(() => setLoading(false));\n    }, [apiBase]);\n\n    const openDetail = (id) => {\n        setOpenId(id);\n        fetch(`${apiBase}/api/circuits/${encodeURIComponent(id)}`)\n            .then((r) => r.json())\n            .then((j) => {\n                setDetail(j);\n                setSectors([]);\n                setCurbs([]);\n            });\n    };\n\n    return (\n        <div className=\"circuits-page\">\n            <main className=\"main small-top\">\n                <h2 className=\"section-title\">Circuiti</h2>\n                {loading && <p className=\"muted\">Caricamento…</p>}\n                {error && <p className=\"error\">{error}</p>}\n                {!loading && (\n                    <div className=\"cr-grid\">\n                        {list.map((c) => (\n                            <div\n                                key={c.id}\n                                className=\"cr-card\"\n                                onClick={() => openDetail(c.id)}\n                            >\n                                <h3 className=\"cr-title\">{c.name}</h3>\n                                <span className=\"muted\">\n                                    {new Date(c.createdAt).toLocaleDateString()}\n                                </span>\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </main>\n\n            {/* ===== MODALE DETTAGLIO ===== */}\n            <Modal open={!!openId} onClose={() => setOpenId(null)}>\n                {detail && (\n                    <div className=\"cr-body\">\n                        <h3 className=\"cr-dialog-title\">{detail.name}</h3>\n                        <EditableTrackCanvas\n                            points={detail.pathPoints}\n                            sectors={sectors}\n                            setSectors={setSectors}\n                            curbs={curbs}\n                            setCurbs={setCurbs}\n                        />\n\n                        <div className=\"cr-block\">\n                            <h4>Settori</h4>\n                            {sectors.map((s, i) => (\n                                <div key={i} className=\"sector-row\">\n                                    <span>Settore {i + 1}</span>\n                                    <input\n                                        type=\"color\"\n                                        value={s.color}\n                                        onChange={(e) =>\n                                            setSectors((prev) =>\n                                                prev.map((x, j) =>\n                                                    j === i ? { ...x, color: e.target.value } : x\n                                                )\n                                            )\n                                        }\n                                    />\n                                </div>\n                            ))}\n                            {sectors.length < 3 && (\n                                <button\n                                    className=\"btn-small\"\n                                    onClick={() =>\n                                        setSectors((p) => [\n                                            ...p,\n                                            {\n                                                start: Math.floor(Math.random() * 50),\n                                                end: Math.floor(Math.random() * 150),\n                                                color: \"#ffff00\",\n                                            },\n                                        ])\n                                    }\n                                >\n                                    <IconPlus /> Aggiungi Settore\n                                </button>\n                            )}\n                        </div>\n\n                        <div className=\"cr-block\">\n                            <h4>Cordoli</h4>\n                            <p className=\"muted small\">\n                                Clicca e trascina sul tracciato per creare un cordolo.\n                            </p>\n                            {curbs.length > 0 && (\n                                <ul className=\"curb-list\">\n                                    {curbs.map((c, i) => (\n                                        <li key={i}>\n                                            Cordolo {i + 1}{\" \"}\n                                            <input\n                                                type=\"color\"\n                                                value={c.color}\n                                                onChange={(e) =>\n                                                    setCurbs((prev) =>\n                                                        prev.map((x, j) =>\n                                                            j === i ? { ...x, color: e.target.value } : x\n                                                        )\n                                                    )\n                                                }\n                                            />\n                                        </li>\n                                    ))}\n                                </ul>\n                            )}\n                        </div>\n                    </div>\n                )}\n            </Modal>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}