{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/racesense/racesense-frontend/src/pages/RaceSetup.jsx\",\n  _s = $RefreshSig$();\n// src/pages/RaceSetup.jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || `http://${window.location.hostname}:5000`;\nconst WS_URL = process.env.REACT_APP_WS_URL || `ws://${window.location.hostname}:5001`;\nexport default function RaceSetup({\n  onStartRace\n}) {\n  _s();\n  var _raceInProgress$circu2, _raceInProgress$circu3;\n  const [circuits, setCircuits] = useState([]);\n  const [pilots, setPilots] = useState([]);\n  const [selectedCircuit, setSelectedCircuit] = useState(null);\n  const [circuitData, setCircuitData] = useState(null);\n  const [totalLaps, setTotalLaps] = useState(10);\n  const [activeDevices, setActiveDevices] = useState({});\n  const [deviceAssignments, setDeviceAssignments] = useState({});\n\n  // üîî snapshot se gara attiva: banner immediato in /race\n  const [raceInProgress, setRaceInProgress] = useState(null);\n  const wsRef = useRef(null);\n  const deviceTimeoutRef = useRef({});\n\n  // === NUOVO: stato query search per device ===\n  const [pilotQueryByMac, setPilotQueryByMac] = useState({}); // { [mac]: \"query\" }\n\n  // === helpers ricerca ===\n  const normalize = (s = '') => String(s).normalize('NFD').replace(/\\p{Diacritic}/gu, '').toLowerCase();\n  const filterPilots = q => {\n    const nq = normalize(q);\n    if (!nq) return [];\n    return pilots.filter(p => {\n      const full = normalize(`${p.name} ${p.surname} ${p.team || ''}`);\n      return full.includes(nq);\n    }).slice(0, 8);\n  };\n  const selectPilotForMac = (mac, p) => {\n    setDeviceAssignments(prev => ({\n      ...prev,\n      [mac]: String(p.id)\n    }));\n    setPilotQueryByMac(s => ({\n      ...s,\n      [mac]: ''\n    }));\n  };\n\n  // --- bootstrap dati + stato gara attuale ---\n  useEffect(() => {\n    fetch(`${API_BASE}/api/circuits`).then(r => r.json()).then(setCircuits).catch(console.error);\n    fetch(`${API_BASE}/api/pilots`).then(r => r.json()).then(setPilots).catch(console.error);\n\n    // üëâ check immediato: c‚Äô√® una gara gi√† attiva?\n    fetch(`${API_BASE}/api/race/state`).then(r => r.json()).then(s => {\n      if ((s === null || s === void 0 ? void 0 : s.type) === 'race_snapshot') setRaceInProgress(s);\n    }).catch(() => {});\n  }, []);\n\n  // --- dettagli circuito selezionato ---\n  useEffect(() => {\n    if (!selectedCircuit) return;\n    fetch(`${API_BASE}/api/circuits/${selectedCircuit}`).then(r => r.json()).then(setCircuitData).catch(console.error);\n  }, [selectedCircuit]);\n\n  // --- WebSocket: device liberi + stato gara attuale (banner) ---\n  useEffect(() => {\n    const ws = new WebSocket(WS_URL);\n    wsRef.current = ws;\n    ws.onopen = () => console.log('[RaceSetup] WS connesso');\n    ws.onmessage = event => {\n      try {\n        var _data$data, _data$data2, _data$data3;\n        const data = JSON.parse(event.data);\n        if ((data === null || data === void 0 ? void 0 : data.type) === 'race_init') {\n          setRaceInProgress({\n            totalLaps: data.totalLaps,\n            raceStatus: data.raceStatus,\n            circuit: data.circuit\n          });\n          return;\n        }\n        if ((data === null || data === void 0 ? void 0 : data.type) === 'race_snapshot') {\n          setRaceInProgress(data);\n          return;\n        }\n        if ((data === null || data === void 0 ? void 0 : data.type) === 'race_inactive') {\n          setRaceInProgress(null);\n          return;\n        }\n\n        // preview device liberi\n        if ((data === null || data === void 0 ? void 0 : data.type) === 'gps_raw' && data !== null && data !== void 0 && (_data$data = data.data) !== null && _data$data !== void 0 && _data$data.mac && data !== null && data !== void 0 && (_data$data2 = data.data) !== null && _data$data2 !== void 0 && _data$data2.lat && data !== null && data !== void 0 && (_data$data3 = data.data) !== null && _data$data3 !== void 0 && _data$data3.lon) {\n          const {\n            mac,\n            lat,\n            lon,\n            speedKmh\n          } = data.data;\n          const speed = Number(speedKmh || 0);\n          setActiveDevices(prev => ({\n            ...prev,\n            [mac]: {\n              lastSeen: Date.now(),\n              lat: Number(lat),\n              lon: Number(lon),\n              speed\n            }\n          }));\n          if (deviceTimeoutRef.current[mac]) clearTimeout(deviceTimeoutRef.current[mac]);\n          deviceTimeoutRef.current[mac] = setTimeout(() => {\n            setActiveDevices(prev => {\n              const copy = {\n                ...prev\n              };\n              delete copy[mac];\n              return copy;\n            });\n          }, 6000);\n        }\n      } catch {}\n    };\n    ws.onerror = e => console.error('[RaceSetup] WS errore', e);\n    ws.onclose = () => console.log('[RaceSetup] WS chiuso');\n    return () => {\n      Object.values(deviceTimeoutRef.current).forEach(clearTimeout);\n      try {\n        ws.close();\n      } catch {}\n    };\n  }, []);\n  const handleStart = async () => {\n    try {\n      const s = await fetch(`${API_BASE}/api/race/state`).then(r => r.json());\n      if ((s === null || s === void 0 ? void 0 : s.type) === 'race_snapshot') {\n        setRaceInProgress(s);\n        return;\n      }\n      if (!selectedCircuit) return alert('ATTENZIONE: seleziona un circuito!');\n      const assignedDevices = Object.keys(deviceAssignments).filter(mac => deviceAssignments[mac]);\n      if (assignedDevices.length === 0) return alert('ATTENZIONE: assegna almeno un pilota a un device attivo!');\n      const body = {\n        circuitId: selectedCircuit,\n        totalLaps,\n        assignments: deviceAssignments,\n        pilots\n      };\n      const r = await fetch(`${API_BASE}/api/race/start`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      const j = await r.json();\n      if (!r.ok) throw new Error((j === null || j === void 0 ? void 0 : j.error) || 'Errore avvio gara');\n      onStartRace({\n        circuit: selectedCircuit,\n        circuitData,\n        totalLaps,\n        assignments: deviceAssignments,\n        pilots\n      });\n    } catch (e) {\n      console.error(e);\n      alert('Errore nell‚Äôavvio della gara: ' + e.message);\n    }\n  };\n  const goToExistingRace = async () => {\n    try {\n      var _raceInProgress$circu, _raceInProgress$total;\n      const cid = raceInProgress === null || raceInProgress === void 0 ? void 0 : (_raceInProgress$circu = raceInProgress.circuit) === null || _raceInProgress$circu === void 0 ? void 0 : _raceInProgress$circu.id;\n      let cData = circuitData;\n      if (cid && (!circuitData || selectedCircuit !== cid)) {\n        cData = await fetch(`${API_BASE}/api/circuits/${cid}`).then(r => r.json()).catch(() => null);\n      }\n      onStartRace({\n        circuit: cid || selectedCircuit,\n        circuitData: cData || circuitData,\n        totalLaps: (_raceInProgress$total = raceInProgress === null || raceInProgress === void 0 ? void 0 : raceInProgress.totalLaps) !== null && _raceInProgress$total !== void 0 ? _raceInProgress$total : totalLaps,\n        assignments: {},\n        pilots\n      });\n    } catch (e) {\n      console.error(e);\n      onStartRace({\n        circuit: selectedCircuit,\n        circuitData,\n        totalLaps,\n        assignments: {},\n        pilots\n      });\n    }\n  };\n  const activeMacs = Object.keys(activeDevices);\n  const selectedStyle = {\n    borderColor: 'rgba(192, 255, 3, 0.55)',\n    boxShadow: '0 0 24px rgba(192,255,3,0.25)'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main small-top\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"section-title\",\n      style: {\n        marginBottom: 8\n      },\n      children: \"Configurazione Gara\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"subtitle\",\n      style: {\n        marginTop: 0,\n        marginBottom: 24\n      },\n      children: \"Seleziona il circuito, assegna i piloti ai device e imposta i giri.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), raceInProgress && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pilot-form\",\n      style: {\n        color: 'white',\n        borderColor: 'rgba(241,196,15,.4)',\n        background: 'rgba(241,196,15,.08)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"\\xC8 gi\\xE0 in corso una gara\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), \" sul circuito \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: ((_raceInProgress$circu2 = raceInProgress.circuit) === null || _raceInProgress$circu2 === void 0 ? void 0 : _raceInProgress$circu2.name) || ((_raceInProgress$circu3 = raceInProgress.circuit) === null || _raceInProgress$circu3 === void 0 ? void 0 : _raceInProgress$circu3.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 55\n      }, this), \".\", /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          display: 'flex',\n          gap: 8,\n          justifyContent: 'flex-end',\n          flexDirection: 'row-reverse'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-ghost\",\n          onClick: () => setRaceInProgress(null),\n          children: \"Chiudi avviso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          onClick: goToExistingRace,\n          children: \"Visualizza gara\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        marginBottom: 28\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: \"Circuito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        style: {\n          marginBottom: 16\n        },\n        children: circuits.map(c => {\n          const isSelected = selectedCircuit === c.id;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-card\",\n            role: \"button\",\n            tabIndex: 0,\n            onClick: () => setSelectedCircuit(c.id),\n            style: isSelected ? selectedStyle : undefined,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                viewBox: \"0 0 24 24\",\n                className: \"icon\",\n                \"aria-hidden\": \"true\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M4 12a8 8 0 1 1 16 0v3a3 3 0 0 1-3 3h-2a1 1 0 1 1 0-2h2a1 1 0 0 0 1-1v-3a6 6 0 1 0-12 0v3a1 1 0 0 0 1 1h2a1 1 0 1 1 0 2H7a3 3 0 0 1-3-3v-3z\",\n                  fill: \"currentColor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"2.25\",\n                  fill: \"currentColor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"action-title\",\n              children: c.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"action-desc\",\n              children: [\"Lunghezza ~ \", (c.lengthMeters || 0).toFixed(0), \" m \\u2022 Punti \", c.points || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)]\n          }, c.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        marginBottom: 28\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 10,\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"section-title\",\n          style: {\n            margin: 0\n          },\n          children: \"Device attivi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chip readonly\",\n          style: {\n            background: 'rgba(192,255,3,0.15)',\n            borderColor: 'rgba(192,255,3,0.55)'\n          },\n          children: activeMacs.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"muted\",\n          children: \"in tempo reale via WebSocket\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), activeMacs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dz\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dz-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dz-label\",\n            children: \"Nessun device GPS attivo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dz-hint\",\n            children: \"Avvia il simulatore o connetti dispositivi GPS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pilots-grid\",\n        children: activeMacs.map(mac => {\n          var _deviceAssignments$ma;\n          const assignedPilotId = (_deviceAssignments$ma = deviceAssignments[mac]) !== null && _deviceAssignments$ma !== void 0 ? _deviceAssignments$ma : '';\n          const assignedPilot = pilots.find(p => String(p.id) === assignedPilotId);\n          const pilotPhotoUrl = assignedPilot !== null && assignedPilot !== void 0 && assignedPilot.photoDriverUrl ? `${API_BASE}${assignedPilot.photoDriverUrl}` : null;\n          const teamLogoUrl = assignedPilot !== null && assignedPilot !== void 0 && assignedPilot.photoTeamUrl ? `${API_BASE}${assignedPilot.photoTeamUrl}` : null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pilot-card\",\n            style: {\n              ...(assignedPilotId ? selectedStyle : {}),\n              gridTemplateColumns: '140px 1fr'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pilot-photos col\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"photo tall media-box\",\n                children: pilotPhotoUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: pilotPhotoUrl,\n                  alt: `${assignedPilot === null || assignedPilot === void 0 ? void 0 : assignedPilot.name} ${assignedPilot === null || assignedPilot === void 0 ? void 0 : assignedPilot.surname}`,\n                  className: \"pilot-photo-img\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 40\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"photo-placeholder\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: 700,\n                      color: 'var(--brand)'\n                    },\n                    children: \"Seleziona pilota\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 60\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"muted\",\n                    style: {\n                      marginTop: 6\n                    },\n                    children: \"Foto pilota\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 138\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"photo small media-box team-logo-box\",\n                children: teamLogoUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: teamLogoUrl,\n                  alt: assignedPilot === null || assignedPilot === void 0 ? void 0 : assignedPilot.team,\n                  className: \"team-logo-img\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 38\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"photo-placeholder\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"muted\",\n                    children: \"Logo team\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 60\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pilot-info wide\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pilot-name big\",\n                children: \"Assegnazione pilota\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pilot-team big muted\",\n                style: {\n                  marginBottom: 12\n                },\n                children: mac\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-row\",\n                style: {\n                  gridTemplateColumns: '1fr'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-col rs-pilot-search\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"muted\",\n                    children: \"Cerca pilota\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input\",\n                    placeholder: \"Digita nome o cognome\\u2026\",\n                    value: pilotQueryByMac[mac] || '',\n                    onChange: e => setPilotQueryByMac(s => ({\n                      ...s,\n                      [mac]: e.target.value\n                    })),\n                    autoComplete: \"off\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 25\n                  }, this), (pilotQueryByMac[mac] || '').trim() !== '' && (() => {\n                    const results = filterPilots(pilotQueryByMac[mac]);\n                    return results.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rs-pilot-results\",\n                      children: results.map(p => {\n                        const photo = p.photoDriverUrl ? `${API_BASE}${p.photoDriverUrl}` : null;\n                        return /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"rs-pilot-item\",\n                          onClick: () => selectPilotForMac(mac, p),\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"rs-pilot-avatar\",\n                            children: photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: photo,\n                              alt: `${p.name} ${p.surname}`\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 268,\n                              columnNumber: 50\n                            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"rs-pilot-avatar-ph\",\n                              children: \"\\uD83D\\uDC64\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 268,\n                              columnNumber: 103\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 267,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"rs-pilot-texts\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"rs-pilot-name\",\n                              children: [p.name, \" \", p.surname]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 271,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"rs-pilot-team muted\",\n                              children: p.team || '‚Äî'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 272,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 270,\n                            columnNumber: 39\n                          }, this)]\n                        }, p.id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 261,\n                          columnNumber: 37\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rs-pilot-results rs-empty muted\",\n                      children: \"Nessun risultato\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 31\n                    }, this);\n                  })()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this), assignedPilot ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 12,\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  gap: 10\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"muted\",\n                  children: [\"Selezionato: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    style: {\n                      color: '#fff'\n                    },\n                    children: [assignedPilot.name, \" \", assignedPilot.surname]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 40\n                  }, this), \" \\u2014 \", assignedPilot.team || '‚Äî']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-danger\",\n                  onClick: () => setDeviceAssignments(prev => ({\n                    ...prev,\n                    [mac]: ''\n                  })),\n                  children: \"Rimuovi\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"muted\",\n                children: \"non assegnato\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this)]\n          }, mac, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        marginBottom: 28\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: \"Numero giri\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-ghost\",\n          onClick: () => setTotalLaps(Math.max(1, totalLaps - 1)),\n          children: \"\\u2212\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pilot-form\",\n          style: {\n            padding: 12,\n            minWidth: 160\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"muted\",\n              style: {\n                marginBottom: 6\n              },\n              children: \"Giri\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 900,\n                fontSize: '1.8rem',\n                color: 'var(--brand)'\n              },\n              children: totalLaps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-ghost\",\n          onClick: () => setTotalLaps(totalLaps + 1),\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cta-wrapper\",\n      style: {\n        marginTop: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"big-cta\",\n        onClick: handleStart,\n        \"aria-label\": \"Avvia/Mostra gara\",\n        children: \"START RACE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"cta-hint\",\n        children: selectedCircuit && Object.values(deviceAssignments).filter(Boolean).length > 0 ? `${Object.values(deviceAssignments).filter(Boolean).length} ${Object.values(deviceAssignments).filter(Boolean).length === 1 ? 'pilota' : 'piloti'} √ó ${totalLaps} giri ‚Ä¢ circuito #${selectedCircuit}` : 'Se la gara √® gi√† in corso potrai visualizzarla subito.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n}\n_s(RaceSetup, \"bX4uySIqTY/cvYfXM6lyslwU3LA=\");\n_c = RaceSetup;\nvar _c;\n$RefreshReg$(_c, \"RaceSetup\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","window","location","hostname","WS_URL","REACT_APP_WS_URL","RaceSetup","onStartRace","_s","_raceInProgress$circu2","_raceInProgress$circu3","circuits","setCircuits","pilots","setPilots","selectedCircuit","setSelectedCircuit","circuitData","setCircuitData","totalLaps","setTotalLaps","activeDevices","setActiveDevices","deviceAssignments","setDeviceAssignments","raceInProgress","setRaceInProgress","wsRef","deviceTimeoutRef","pilotQueryByMac","setPilotQueryByMac","normalize","s","String","replace","toLowerCase","filterPilots","q","nq","filter","p","full","name","surname","team","includes","slice","selectPilotForMac","mac","prev","id","fetch","then","r","json","catch","console","error","type","ws","WebSocket","current","onopen","log","onmessage","event","_data$data","_data$data2","_data$data3","data","JSON","parse","raceStatus","circuit","lat","lon","speedKmh","speed","Number","lastSeen","Date","now","clearTimeout","setTimeout","copy","onerror","e","onclose","Object","values","forEach","close","handleStart","alert","assignedDevices","keys","length","body","circuitId","assignments","method","headers","stringify","j","ok","Error","message","goToExistingRace","_raceInProgress$circu","_raceInProgress$total","cid","cData","activeMacs","selectedStyle","borderColor","boxShadow","className","children","style","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","color","background","display","gap","justifyContent","flexDirection","onClick","map","c","isSelected","role","tabIndex","undefined","viewBox","d","fill","cx","cy","lengthMeters","toFixed","points","alignItems","margin","_deviceAssignments$ma","assignedPilotId","assignedPilot","find","pilotPhotoUrl","photoDriverUrl","teamLogoUrl","photoTeamUrl","gridTemplateColumns","src","alt","fontWeight","placeholder","value","onChange","target","autoComplete","trim","results","photo","Math","max","padding","minWidth","textAlign","fontSize","Boolean","_c","$RefreshReg$"],"sources":["/home/ubuntu/racesense/racesense-frontend/src/pages/RaceSetup.jsx"],"sourcesContent":["// src/pages/RaceSetup.jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport '../App.css';\n\nconst API_BASE = process.env.REACT_APP_API_BASE || `http://${window.location.hostname}:5000`;\nconst WS_URL = process.env.REACT_APP_WS_URL || `ws://${window.location.hostname}:5001`;\n\nexport default function RaceSetup({ onStartRace }) {\n  const [circuits, setCircuits] = useState([]);\n  const [pilots, setPilots] = useState([]);\n\n  const [selectedCircuit, setSelectedCircuit] = useState(null);\n  const [circuitData, setCircuitData] = useState(null);\n\n  const [totalLaps, setTotalLaps] = useState(10);\n\n  const [activeDevices, setActiveDevices] = useState({});\n  const [deviceAssignments, setDeviceAssignments] = useState({});\n\n  // üîî snapshot se gara attiva: banner immediato in /race\n  const [raceInProgress, setRaceInProgress] = useState(null);\n\n  const wsRef = useRef(null);\n  const deviceTimeoutRef = useRef({});\n\n  // === NUOVO: stato query search per device ===\n  const [pilotQueryByMac, setPilotQueryByMac] = useState({}); // { [mac]: \"query\" }\n\n  // === helpers ricerca ===\n  const normalize = (s = '') =>\n    String(s).normalize('NFD').replace(/\\p{Diacritic}/gu, '').toLowerCase();\n\n  const filterPilots = (q) => {\n    const nq = normalize(q);\n    if (!nq) return [];\n    return pilots\n      .filter((p) => {\n        const full = normalize(`${p.name} ${p.surname} ${p.team || ''}`);\n        return full.includes(nq);\n      })\n      .slice(0, 8);\n  };\n\n  const selectPilotForMac = (mac, p) => {\n    setDeviceAssignments((prev) => ({ ...prev, [mac]: String(p.id) }));\n    setPilotQueryByMac((s) => ({ ...s, [mac]: '' }));\n  };\n\n  // --- bootstrap dati + stato gara attuale ---\n  useEffect(() => {\n    fetch(`${API_BASE}/api/circuits`).then(r => r.json()).then(setCircuits).catch(console.error);\n    fetch(`${API_BASE}/api/pilots`).then(r => r.json()).then(setPilots).catch(console.error);\n\n    // üëâ check immediato: c‚Äô√® una gara gi√† attiva?\n    fetch(`${API_BASE}/api/race/state`)\n      .then(r => r.json())\n      .then(s => { if (s?.type === 'race_snapshot') setRaceInProgress(s); })\n      .catch(() => { });\n  }, []);\n\n  // --- dettagli circuito selezionato ---\n  useEffect(() => {\n    if (!selectedCircuit) return;\n    fetch(`${API_BASE}/api/circuits/${selectedCircuit}`).then(r => r.json()).then(setCircuitData).catch(console.error);\n  }, [selectedCircuit]);\n\n  // --- WebSocket: device liberi + stato gara attuale (banner) ---\n  useEffect(() => {\n    const ws = new WebSocket(WS_URL);\n    wsRef.current = ws;\n\n    ws.onopen = () => console.log('[RaceSetup] WS connesso');\n    ws.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data?.type === 'race_init') {\n          setRaceInProgress({\n            totalLaps: data.totalLaps,\n            raceStatus: data.raceStatus,\n            circuit: data.circuit\n          });\n          return;\n        }\n        if (data?.type === 'race_snapshot') { setRaceInProgress(data); return; }\n        if (data?.type === 'race_inactive') { setRaceInProgress(null); return; }\n\n        // preview device liberi\n        if (data?.type === 'gps_raw' && data?.data?.mac && data?.data?.lat && data?.data?.lon) {\n          const { mac, lat, lon, speedKmh } = data.data;\n          const speed = Number(speedKmh || 0);\n          setActiveDevices(prev => ({\n            ...prev,\n            [mac]: { lastSeen: Date.now(), lat: Number(lat), lon: Number(lon), speed }\n          }));\n          if (deviceTimeoutRef.current[mac]) clearTimeout(deviceTimeoutRef.current[mac]);\n          deviceTimeoutRef.current[mac] = setTimeout(() => {\n            setActiveDevices(prev => { const copy = { ...prev }; delete copy[mac]; return copy; });\n          }, 6000);\n        }\n      } catch { }\n    };\n    ws.onerror = e => console.error('[RaceSetup] WS errore', e);\n    ws.onclose = () => console.log('[RaceSetup] WS chiuso');\n\n    return () => {\n      Object.values(deviceTimeoutRef.current).forEach(clearTimeout);\n      try { ws.close(); } catch { }\n    };\n  }, []);\n\n  const handleStart = async () => {\n    try {\n      const s = await fetch(`${API_BASE}/api/race/state`).then(r => r.json());\n      if (s?.type === 'race_snapshot') { setRaceInProgress(s); return; }\n\n      if (!selectedCircuit) return alert('ATTENZIONE: seleziona un circuito!');\n      const assignedDevices = Object.keys(deviceAssignments).filter(mac => deviceAssignments[mac]);\n      if (assignedDevices.length === 0) return alert('ATTENZIONE: assegna almeno un pilota a un device attivo!');\n\n      const body = { circuitId: selectedCircuit, totalLaps, assignments: deviceAssignments, pilots };\n      const r = await fetch(`${API_BASE}/api/race/start`, {\n        method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body)\n      });\n      const j = await r.json();\n      if (!r.ok) throw new Error(j?.error || 'Errore avvio gara');\n\n      onStartRace({ circuit: selectedCircuit, circuitData, totalLaps, assignments: deviceAssignments, pilots });\n    } catch (e) {\n      console.error(e);\n      alert('Errore nell‚Äôavvio della gara: ' + e.message);\n    }\n  };\n\n  const goToExistingRace = async () => {\n    try {\n      const cid = raceInProgress?.circuit?.id;\n      let cData = circuitData;\n      if (cid && (!circuitData || selectedCircuit !== cid)) {\n        cData = await fetch(`${API_BASE}/api/circuits/${cid}`).then(r => r.json()).catch(() => null);\n      }\n      onStartRace({\n        circuit: cid || selectedCircuit,\n        circuitData: cData || circuitData,\n        totalLaps: raceInProgress?.totalLaps ?? totalLaps,\n        assignments: {},\n        pilots\n      });\n    } catch (e) {\n      console.error(e);\n      onStartRace({ circuit: selectedCircuit, circuitData, totalLaps, assignments: {}, pilots });\n    }\n  };\n\n  const activeMacs = Object.keys(activeDevices);\n  const selectedStyle = { borderColor: 'rgba(192, 255, 3, 0.55)', boxShadow: '0 0 24px rgba(192,255,3,0.25)' };\n\n  return (\n    <div className=\"main small-top\">\n      <h2 className=\"section-title\" style={{ marginBottom: 8 }}>Configurazione Gara</h2>\n      <p className=\"subtitle\" style={{ marginTop: 0, marginBottom: 24 }}>\n        Seleziona il circuito, assegna i piloti ai device e imposta i giri.\n      </p>\n\n      {/* üîî Banner ‚Äúgara in corso‚Äù */}\n      {raceInProgress && (\n        <div className=\"pilot-form\" style={{ color: 'white', borderColor: 'rgba(241,196,15,.4)', background: 'rgba(241,196,15,.08)' }}>\n          <b>√à gi√† in corso una gara</b> sul circuito <b>{raceInProgress.circuit?.name || raceInProgress.circuit?.id}</b>.\n          <div style={{ marginTop: 12, display: 'flex', gap: 8, justifyContent: 'flex-end', flexDirection: 'row-reverse' }}>\n            <button className=\"btn-ghost\" onClick={() => setRaceInProgress(null)}>Chiudi avviso</button>\n            <button className=\"btn-primary\" onClick={goToExistingRace}>Visualizza gara</button>\n          </div>\n        </div>\n      )}\n\n      {/* Circuiti */}\n      <section style={{ marginBottom: 28 }}>\n        <h3 className=\"section-title\">Circuito</h3>\n        <div className=\"actions\" style={{ marginBottom: 16 }}>\n          {circuits.map(c => {\n            const isSelected = selectedCircuit === c.id;\n            return (\n              <div key={c.id} className=\"action-card\" role=\"button\" tabIndex={0}\n                onClick={() => setSelectedCircuit(c.id)}\n                style={isSelected ? selectedStyle : undefined}>\n                <div className=\"action-icon\">\n                  <svg viewBox=\"0 0 24 24\" className=\"icon\" aria-hidden=\"true\">\n                    <path d=\"M4 12a8 8 0 1 1 16 0v3a3 3 0 0 1-3 3h-2a1 1 0 1 1 0-2h2a1 1 0 0 0 1-1v-3a6 6 0 1 0-12 0v3a1 1 0 0 0 1 1h2a1 1 0 1 1 0 2H7a3 3 0 0 1-3-3v-3z\" fill=\"currentColor\" />\n                    <circle cx=\"12\" cy=\"12\" r=\"2.25\" fill=\"currentColor\" />\n                  </svg>\n                </div>\n                <h4 className=\"action-title\">{c.name}</h4>\n                <p className=\"action-desc\">Lunghezza ~ {(c.lengthMeters || 0).toFixed(0)} m ‚Ä¢ Punti {c.points || 0}</p>\n              </div>\n            );\n          })}\n        </div>\n      </section>\n\n      {/* Device liberi */}\n      <section style={{ marginBottom: 28 }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 10, marginBottom: 12 }}>\n          <h3 className=\"section-title\" style={{ margin: 0 }}>Device attivi</h3>\n          <span className=\"chip readonly\" style={{ background: 'rgba(192,255,3,0.15)', borderColor: 'rgba(192,255,3,0.55)' }}>\n            {activeMacs.length}\n          </span>\n          <span className=\"muted\">in tempo reale via WebSocket</span>\n        </div>\n\n        {activeMacs.length === 0 ? (\n          <div className=\"dz\">\n            <div className=\"dz-inner\">\n              <span className=\"dz-label\">Nessun device GPS attivo</span>\n              <span className=\"dz-hint\">Avvia il simulatore o connetti dispositivi GPS</span>\n            </div>\n          </div>\n        ) : (\n          <div className=\"pilots-grid\">\n            {activeMacs.map(mac => {\n              const assignedPilotId = deviceAssignments[mac] ?? '';\n              const assignedPilot = pilots.find(p => String(p.id) === assignedPilotId);\n              const pilotPhotoUrl = assignedPilot?.photoDriverUrl ? `${API_BASE}${assignedPilot.photoDriverUrl}` : null;\n              const teamLogoUrl = assignedPilot?.photoTeamUrl ? `${API_BASE}${assignedPilot.photoTeamUrl}` : null;\n\n              return (\n                <div key={mac} className=\"pilot-card\" style={{ ...(assignedPilotId ? selectedStyle : {}), gridTemplateColumns: '140px 1fr' }}>\n                  <div className=\"pilot-photos col\">\n                    <div className=\"photo tall media-box\">\n                      {pilotPhotoUrl ? <img src={pilotPhotoUrl} alt={`${assignedPilot?.name} ${assignedPilot?.surname}`} className=\"pilot-photo-img\" /> :\n                        <div className=\"photo-placeholder\"><div style={{ fontWeight: 700, color: 'var(--brand)' }}>Seleziona pilota</div><div className=\"muted\" style={{ marginTop: 6 }}>Foto pilota</div></div>}\n                    </div>\n                    <div className=\"photo small media-box team-logo-box\">\n                      {teamLogoUrl ? <img src={teamLogoUrl} alt={assignedPilot?.team} className=\"team-logo-img\" /> :\n                        <div className=\"photo-placeholder\"><div className=\"muted\">Logo team</div></div>}\n                    </div>\n                  </div>\n\n                  <div className=\"pilot-info wide\">\n                    <div className=\"pilot-name big\">Assegnazione pilota</div>\n                    <div className=\"pilot-team big muted\" style={{ marginBottom: 12 }}>{mac}</div>\n\n                    {/* === Sostituisce il select: ricerca con risultati === */}\n                    <div className=\"form-row\" style={{ gridTemplateColumns: '1fr' }}>\n                      <div className=\"form-col rs-pilot-search\">\n                        <label className=\"muted\">Cerca pilota</label>\n                        <input\n                          className=\"input\"\n                          placeholder=\"Digita nome o cognome‚Ä¶\"\n                          value={pilotQueryByMac[mac] || ''}\n                          onChange={(e) => setPilotQueryByMac((s) => ({ ...s, [mac]: e.target.value }))}\n                          autoComplete=\"off\"\n                        />\n                        {(pilotQueryByMac[mac] || '').trim() !== '' && (\n                          (() => {\n                            const results = filterPilots(pilotQueryByMac[mac]);\n                            return results.length > 0 ? (\n                              <div className=\"rs-pilot-results\">\n                                {results.map((p) => {\n                                  const photo = p.photoDriverUrl ? `${API_BASE}${p.photoDriverUrl}` : null;\n                                  return (\n                                    <button\n                                      key={p.id}\n                                      type=\"button\"\n                                      className=\"rs-pilot-item\"\n                                      onClick={() => selectPilotForMac(mac, p)}\n                                    >\n                                      <div className=\"rs-pilot-avatar\">\n                                        {photo ? <img src={photo} alt={`${p.name} ${p.surname}`} /> : <span className=\"rs-pilot-avatar-ph\">üë§</span>}\n                                      </div>\n                                      <div className=\"rs-pilot-texts\">\n                                        <div className=\"rs-pilot-name\">{p.name} {p.surname}</div>\n                                        <div className=\"rs-pilot-team muted\">{p.team || '‚Äî'}</div>\n                                      </div>\n                                    </button>\n                                  );\n                                })}\n                              </div>\n                            ) : (\n                              <div className=\"rs-pilot-results rs-empty muted\">Nessun risultato</div>\n                            );\n                          })()\n                        )}\n                      </div>\n                    </div>\n\n                    {/* riepilogo selezione */}\n                    {assignedPilot ? (\n                      <div style={{ marginTop: 12, display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: 10 }}>\n                        <div className=\"muted\">\n                          Selezionato: <b style={{ color: '#fff' }}>{assignedPilot.name} {assignedPilot.surname}</b> ‚Äî {assignedPilot.team || '‚Äî'}\n                        </div>\n                        <button className=\"btn-danger\" onClick={() => setDeviceAssignments(prev => ({ ...prev, [mac]: '' }))}>Rimuovi</button>\n                      </div>\n                    ) : (\n                      <span className=\"muted\">non assegnato</span>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </section>\n\n      {/* Giri */}\n      <section style={{ marginBottom: 28 }}>\n        <h3 className=\"section-title\">Numero giri</h3>\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 12 }}>\n          <button className=\"btn-ghost\" onClick={() => setTotalLaps(Math.max(1, totalLaps - 1))}>‚àí</button>\n          <div className=\"pilot-form\" style={{ padding: 12, minWidth: 160 }}>\n            <div style={{ textAlign: 'center' }}>\n              <div className=\"muted\" style={{ marginBottom: 6 }}>Giri</div>\n              <div style={{ fontWeight: 900, fontSize: '1.8rem', color: 'var(--brand)' }}>{totalLaps}</div>\n            </div>\n          </div>\n          <button className=\"btn-ghost\" onClick={() => setTotalLaps(totalLaps + 1)}>+</button>\n        </div>\n      </section>\n\n      {/* CTA */}\n      <div className=\"cta-wrapper\" style={{ marginTop: 10 }}>\n        <button className=\"big-cta\" onClick={handleStart} aria-label=\"Avvia/Mostra gara\">START RACE</button>\n        <p className=\"cta-hint\">\n          {selectedCircuit && Object.values(deviceAssignments).filter(Boolean).length > 0\n            ? `${Object.values(deviceAssignments).filter(Boolean).length} ${Object.values(deviceAssignments).filter(Boolean).length === 1 ? 'pilota' : 'piloti'} √ó ${totalLaps} giri ‚Ä¢ circuito #${selectedCircuit}`\n            : 'Se la gara √® gi√† in corso potrai visualizzarla subito.'}\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}